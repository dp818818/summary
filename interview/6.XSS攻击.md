# xss   跨站脚本攻击

## 存储型XSS的攻击
1.攻击者将恶意代码提交到网站服务器，存储到数据库中。
2.用户打开网站，服务器读取数据库数据，拼接在HTML返回给浏览器。
3.浏览器执行恶意代码。
4.恶意代码将用户信息获取发送给攻击者的网站，或执行一些恶意操作（发帖，评论，私信等）


## 反射型XSS的攻击
1.攻击者构造出特殊的URL,上面包含恶意代码，诱导用户点击
2.用户点击URL,服务器提取了恶意代码拼接在HTML中返回给浏览器
3.浏览器解析执行恶心代码
4.恶意代码将用户信息获取发送给攻击者的网站，或执行一些恶意操作（发帖，评论，私信等）

存储型XSS的攻击与反射型XSS的攻击区别：存储型XSS是存在服务端，反射型XSS存在URL中

## DOM型XSS的攻击
1.攻击者构造出特殊的URL,上面包含恶意代码，诱导用户点击
2.用户点击URL，前端JavaScript提取路径中的恶意代码，并执行
3.恶意代码将用户信息发送给攻击者网站，或执行一些恶意操作


DOM型XSS的攻击与前两种的区别：前两种属于服务端的安全漏洞，DOM型XSS攻击属于前端安全漏洞



# 如何防护XSS攻击
1.将插入的HTML转义，转移后不会执行恶意代码。
2.CSP设置白名单，允许加载和执行的资源
3.对一些敏感信息保护，如cookie设置http-only（通过js脚本将无法读取到cookie信息，这样能有效的防止XSS攻击）